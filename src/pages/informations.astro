---
import ExemplePersonImg from '@/assets/imgs/exemple-person.png'
import SectionBg from '@/assets/imgs/section-image.png'
import MyImage from '@/components/my-image.astro'
import { Button } from '@/components/ui/button'
import langs from '@/i18n/langs'
import { createTranslator, I18n } from '@/i18n/translations'
import Layout from '@/layouts/layout.astro'

const locale = (Astro.currentLocale || 'fr') as I18n
const t = createTranslator(locale)

// Hero categories with links
const categories: Array<{ key: keyof typeof langs.fr; href: string; image: string }> = [
	{
		key: 'ART_VIVANT',
		href: '/art-vivant',
		image: ExemplePersonImg.src
	},
	{
		key: 'CINEMA',
		href: '/cinema',
		image: ExemplePersonImg.src
	},
	{
		key: 'MEDIATHEQUE',
		href: '/mediatheque',
		image: ExemplePersonImg.src
	},
	{
		key: 'EXPOSITION',
		href: '/exposition',
		image: ExemplePersonImg.src
	},
	{
		key: 'JEUNESSE',
		href: '/jeunesse',
		image: ExemplePersonImg.src
	},
	{
		key: 'ARTISTE',
		href: '/artiste',
		image: ExemplePersonImg.src
	}
]
---

<Layout title={t('ACCUEIL_TITLE')}>
	<main>
		<!-- Hero Section -->
		<section class="relative mt-6 flex min-h-screen flex-col">
			<!-- Background image with overlay -->
			<div class="absolute inset-0 z-0">
				<MyImage
					src={SectionBg}
					alt=""
					role="presentation"
					class="absolute inset-0 h-full w-full object-cover"
					loading="eager"
					fetchpriority="high"
					layout="fullWidth"
					width={600}
					height={600}
				/>
				<div class="absolute inset-0 bg-linear-to-b from-transparent via-transparent to-black/30"></div>
			</div>

			<!-- Content Container -->
			<div class="relative flex flex-1 flex-col px-10 py-16">
				<!-- Main Title -->
				<header class="mb-auto pt-8">
					<h1>
						{t('SITE_TITLE')}
					</h1>
				</header>

				<!-- Category Cards Grid -->
				<nav class="mt-auto" aria-label={t('NAVIGATION_PRINCIPALE')}>
					<ul class="mx-auto grid max-w-[90%] grid-cols-2 gap-7 md:grid-cols-3 lg:grid-cols-6">
						{
							categories.map((category) => (
								<li>
									<a href={category.href} aria-label={t(category.key)}>
										<article>
											{/* Card Image */}
											{/* <figure class="relative overflow-hidden"> */}
											<figure>
												<MyImage
													src={category.image}
													alt={t(category.key)}
													loading="lazy"
													class="mx-auto drop-shadow-2xl"
													width={200}
													height={350}
													layout="constrained"
												/>
												{/* Gradient Overlay */}
												{/* <div class="absolute inset-0 bg-linear-to-t from-black/50 via-black/5 to-transparent"></div> */}
												<figcaption class="pt-2">
													<h2 class="text-primary-foreground text-center">{t(category.key)}</h2>
												</figcaption>
											</figure>
										</article>
									</a>
								</li>
							))
						}
					</ul>
				</nav>
			</div>
		</section>

		<section class="section-default">
			<article class="grid grid-cols-2 gap-5">
				<div class="flex flex-col">
					<h2 class="text-primary pb-3">Où nous trouver</h2>
					<p class="distinguished pb-16">Maison du Parc</p>
					<div class="grid-cols-2 grid gap-5">
						<div class="bg-primary/20 px-5 py-8">
							<ul class="space-y-5">
								<li class="border-b border-black/20 px-5 pb-4">
									<span class="font-bold">{t('HORAIRES')}</span> : Du lundi au samedi de 14h à 19h. Le dimanche de 17h à 19h.
								</li>

								<li class=" px-5">
									<span class="font-bold">{t('ADRESSE')}</span> : Salle des voûtes, Maison de la Valée, 24 Place Saint Clément, 65120 LUZ-SAINT-SAUVEUR
								</li>
							</ul>
						</div>
						<div class="bg-primary/20 px-5 py-8">
							<ul class="space-y-5">
								<li class="border-b border-black/20 px-5 pb-4">
									<span class="font-bold">Parking</span> : Place du 8 Mai 65120 Luz-Saint-Sauveur
								</li>

								<li class=" px-5">
									<span class="font-bold">Accès transport public </span> : Vélo, bus, covoiturager
								</li>
							</ul>
						</div>
					</div>
				</div>

				<iframe
					width="450"
					height="250"
					frameborder="0"
					style="border:0"
					referrerpolicy="no-referrer-when-downgrade"
					src="https://maps.app.goo.gl/9tKkT2gJVmbFuiLc9"
					allowfullscreen
				>
				</iframe>
			</article>
		</section>
	</main>
</Layout>
