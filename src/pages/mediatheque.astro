---
import EspaceCultureImg from '@/assets/imgs/espace-culture-nature.png'
import ExemplePersonImg from '@/assets/imgs/exemple-person.png'
import SectionBg from '@/assets/imgs/section-image.png'
import MyImage from '@/components/my-image.astro'
import { SelectWrapper } from '@/components/select-wrapper'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import langs from '@/i18n/langs'
import { createTranslator, I18n } from '@/i18n/translations'
import Layout from '@/layouts/layout.astro'

const locale = (Astro.currentLocale || 'fr') as I18n
const t = createTranslator(locale)

// Hero categories with links
const categories: Array<{ key: keyof typeof langs.fr; href: string; image: string }> = [
	{
		key: 'ART_VIVANT',
		href: '/art-vivant',
		image: ExemplePersonImg.src
	},
	{
		key: 'CINEMA',
		href: '/cinema',
		image: ExemplePersonImg.src
	},
	{
		key: 'MEDIATHEQUE',
		href: '/mediatheque',
		image: ExemplePersonImg.src
	},
	{
		key: 'EXPOSITION',
		href: '/exposition',
		image: ExemplePersonImg.src
	},
	{
		key: 'JEUNESSE',
		href: '/jeunesse',
		image: ExemplePersonImg.src
	},
	{
		key: 'ARTISTE',
		href: '/artiste',
		image: ExemplePersonImg.src
	}
]
---

<Layout title={t('ACCUEIL_TITLE')}>
	<main>
		<section class="relative mt-6 flex min-h-screen flex-col">
			<!-- Background image with overlay -->
			<div class="absolute inset-0 z-0">
				<MyImage
					src={SectionBg}
					alt=""
					role="presentation"
					class="absolute inset-0 h-full w-full object-cover"
					loading="eager"
					fetchpriority="high"
					layout="fullWidth"
					width={600}
					height={600}
				/>
				<div class="absolute inset-0 bg-linear-to-b from-transparent via-transparent to-black/30"></div>
			</div>

			<!-- Content Container -->
			<div class="relative flex flex-1 flex-col px-10 py-16">
				<!-- Main Title -->
				<header class="mb-auto pt-8">
					<h1>
						{t('SITE_TITLE')}
					</h1>
				</header>

				<!-- Category Cards Grid -->
				<nav class="mt-auto" aria-label={t('NAVIGATION_PRINCIPALE')}>
					<ul class="mx-auto grid max-w-[90%] grid-cols-2 gap-7 md:grid-cols-3 lg:grid-cols-6">
						{
							categories.map((category) => (
								<li>
									<a href={category.href} aria-label={t(category.key)}>
										<article>
											{/* Card Image */}
											{/* <figure class="relative overflow-hidden"> */}
											<figure>
												<MyImage
													src={category.image}
													alt={t(category.key)}
													loading="lazy"
													class="mx-auto drop-shadow-2xl"
													width={200}
													height={350}
													layout="constrained"
												/>
												{/* Gradient Overlay */}
												{/* <div class="absolute inset-0 bg-linear-to-t from-black/50 via-black/5 to-transparent"></div> */}
												<figcaption class="pt-2">
													<h2 class="text-primary-foreground text-center">{t(category.key)}</h2>
												</figcaption>
											</figure>
										</article>
									</a>
								</li>
							))
						}
					</ul>
				</nav>
			</div>
		</section>

		<section class="section-default">
			<article class="grid grid-cols-2 gap-5">
				<div class="grid grid-cols-2 gap-5">
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-2" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={150} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={150} layout="fullWidth" class="col-span-1" />
				</div>
				<div class="flex flex-col">
					<h2 class="text-primary pb-3">{t('MEDIATHEQUE_TITRE')}</h2>
					<p class="distinguished pb-16">{t('MEDIATHEQUE_INTRO')}</p>
					<p>{t('MEDIATHEQUE_DESC')}</p>

					<Button link="/" size={'xl'} className="mt-auto w-fit">{t('EN_SAVOIR_PLUS')}</Button>
				</div>
			</article>
		</section>

		<section class="section-default bg-primary/20">
			<article>
				<h2 class="pb-3">La ludothèque</h2>
				<p class="distinguished pb-6">Place au jeu</p>
				<p class="w-2/3">
					Tous les quatre mois, nous renouvelons notre ludothèque afin de vous proposer encore plus de façons de vous
					amuser en famille ou entre amis. Notre sélection de jeux s’adresse à tous les âges, dès 3 ans, et séduit aussi
					bien les enfants que les adultes. Vous pouvez jouer sur place librement, et les jeux sont empruntables avec un
					abonnement à la médiathèque pour en profiter aussi à la maison.
				</p>
			</article>

			<div class="bg-primary mt-12 grid grid-cols-8 grid-rows-2 gap-6 px-10 py-8 *:min-h-12">
				<Input placeholder={t('MOTS_CLES')} className="rows-span-1 col-span-6 bg-white" />
				<SelectWrapper
					placeholder={t('HORAIRES')}
					options={[{ key: 'fefef', value: 'fef' }]}
					className="col-span-2 w-full"
				/>
				<SelectWrapper
					placeholder={t('TYPE_PUBLIC')}
					options={[{ key: 'fefef', value: 'fef' }]}
					className="col-span-2 w-full"
				/>
				<SelectWrapper
					placeholder={t('PRIX')}
					options={[{ key: 'fefef', value: 'fef' }]}
					className="col-span-2 w-full"
				/>
				<SelectWrapper
					placeholder={t('LIEU')}
					options={[{ key: 'fefef', value: 'fef' }]}
					className="col-span-2 w-full"
				/>
			</div>

			<div class="my-16 grid grid-cols-4 place-items-center gap-x-4 gap-y-8 *:max-w-72">
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-3">{t('EVENT_TITLE')}</h3>
							<p class="text-sm">{t('EVENT_DATE_EXAMPLE')}</p>
							<div class="flex items-center justify-between pt-2 text-xs">
								<p>3ans et +</p>
								<p>1 à 4 joueurs</p>
								<p>30 min</p>
							</div>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-3">{t('EVENT_TITLE')}</h3>
							<p class="text-sm">{t('EVENT_DATE_EXAMPLE')}</p>
							<div class="flex items-center justify-between pt-2 text-xs">
								<p>3ans et +</p>
								<p>1 à 4 joueurs</p>
								<p>30 min</p>
							</div>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-3">{t('EVENT_TITLE')}</h3>
							<p class="text-sm">{t('EVENT_DATE_EXAMPLE')}</p>
							<div class="flex items-center justify-between pt-2 text-xs">
								<p>3ans et +</p>
								<p>1 à 4 joueurs</p>
								<p>30 min</p>
							</div>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-3">{t('EVENT_TITLE')}</h3>
							<p class="text-sm">{t('EVENT_DATE_EXAMPLE')}</p>
							<div class="flex items-center justify-between pt-2 text-sm">
								<p>3ans et +</p>
								<p>1 à 4 joueurs</p>
								<p>30 min</p>
							</div>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-1">{t('EVENT_TITLE')}</h3>
							<p class="text-primary text-sm italic">{t('EVENT_DESC_EXAMPLE')}</p>
							<time class="text-sm italic" datetime="2025-02-04">{t('EVENT_DATE_EXAMPLE')}</time>
							<p class="pt-3 text-sm">{t('EVENT_DESC_EXAMPLE')}</p>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-1">{t('EVENT_TITLE')}</h3>
							<p class="text-primary text-sm italic">{t('EVENT_DESC_EXAMPLE')}</p>
							<time class="text-sm italic" datetime="2025-02-04">{t('EVENT_DATE_EXAMPLE')}</time>
							<p class="pt-3 text-sm">{t('EVENT_DESC_EXAMPLE')}</p>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-1">{t('EVENT_TITLE')}</h3>
							<p class="text-primary truncate text-sm italic">{t('EVENT_DESC_EXAMPLE')}</p>
							<time class="text-sm italic" datetime="2025-02-04">{t('EVENT_DATE_EXAMPLE')}</time>
							<p class="pt-3 text-sm">{t('EVENT_DESC_EXAMPLE')}</p>
						</figcaption>
					</figure>
				</article>
				<article class="group col-span-1 w-full bg-white shadow-xs">
					<div class="overflow-hidden">
						<MyImage
							src={EspaceCultureImg}
							alt=""
							width={300}
							height={200}
							layout="fullWidth"
							class="transition-transform duration-250 group-hover:scale-110"
						/>
					</div>
					<figure class="p-4">
						<figcaption>
							<h3 class="pb-1">{t('EVENT_TITLE')}</h3>
							<p class="text-primary truncate text-sm italic">{t('EVENT_DESC_EXAMPLE')}</p>
							<time class="text-sm italic" datetime="2025-02-04">{t('EVENT_DATE_EXAMPLE')}</time>
							<p class="pt-3 text-sm">{t('EVENT_DESC_EXAMPLE')}</p>
						</figcaption>
					</figure>
				</article>
			</div>
		</section>

		<section class="section-default">
			<article class="grid grid-cols-2 gap-5">
				<div class="flex flex-col">
					<h2 class="text-primary pb-3">{t('CYBERBASE_TITRE')}</h2>
					<p class="distinguished pb-16">{t('CYBERBASE_INTRO')}</p>
					<p>{t('CYBERBASE_DESC')}</p>
				</div>
				<div class="grid grid-cols-4 gap-5">
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={370} layout="fullWidth" class="col-span-2" />
				</div>
			</article>
		</section>

		<section class="section-default bg-secondary/20">
			<article class="grid grid-cols-2 gap-5">
				<div class="grid grid-cols-2 gap-5">
					<MyImage alt="" src={EspaceCultureImg} width={400} height={250} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={250} layout="fullWidth" class="col-span-1" />
					<MyImage alt="" src={EspaceCultureImg} width={400} height={175} layout="fullWidth" class="col-span-2" />
				</div>
				<div class="flex flex-col">
					<h2 class="text-secondary pb-3">{t('AUTRES_MEDIAS_TITRE')}</h2>
					<p class="distinguished pb-16">{t('AUTRES_MEDIAS_INTRO')}</p>
					<p>{t('AUTRES_MEDIAS_DESC')}</p>

					<Button variant={'secondary'} link="/" size={'xl'} className="mt-auto w-fit">{t('EN_SAVOIR_PLUS')}</Button>
				</div>
			</article>
		</section>
	</main>
</Layout>
