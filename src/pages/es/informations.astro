---
import ExemplePersonImg from '@/assets/imgs/exemple-person.png'
import SectionBg from '@/assets/imgs/section-image.png'
import MyImage from '@/components/my-image.astro'
import langs from '@/i18n/langs'
import { createTranslator, I18n } from '@/i18n/translations'
import Layout from '@/layouts/layout.astro'
import EspaceCultureImg from '@/assets/imgs/espace-culture-nature.png'
import BeHappyImg from '@/assets/imgs/sponsos/be-happy.webp';
import EuropeImg from '@/assets/imgs/sponsos/europe.webp';
import HautesPyreneesImg from '@/assets/imgs/sponsos/hautes-pyrenees.webp';
import ParcNationalImg from '@/assets/imgs/sponsos/parc-national.webp';
import OccitanieImg from '@/assets/imgs/sponsos/occitanie.webp';
import PrefetImg from '@/assets/imgs/sponsos/prefet.webp';

const locale = (Astro.currentLocale || 'fr') as I18n
const t = createTranslator(locale)

// Hero categories with links
const categories: Array<{ key: keyof typeof langs.fr; href: string; image: string }> = [
	{
		key: 'ART_VIVANT',
		href: '/art-vivant',
		image: ExemplePersonImg.src
	},
	{
		key: 'CINEMA',
		href: '/cinema',
		image: ExemplePersonImg.src
	},
	{
		key: 'MEDIATHEQUE',
		href: '/mediatheque',
		image: ExemplePersonImg.src
	},
	{
		key: 'EXPOSITION',
		href: '/exposition',
		image: ExemplePersonImg.src
	},
	{
		key: 'JEUNESSE',
		href: '/jeunesse',
		image: ExemplePersonImg.src
	},
	{
		key: 'ARTISTE',
		href: '/artiste',
		image: ExemplePersonImg.src
	}
]
---

<Layout title={t('ACCUEIL_TITLE')}>
	<main>
		<!-- Hero Section -->
		<section class="relative mt-6 flex min-h-screen flex-col">
			<!-- Background image with overlay -->
			<div class="absolute inset-0 z-0">
				<MyImage
					src={SectionBg}
					alt=""
					role="presentation"
					class="absolute inset-0 h-full w-full object-cover"
					loading="eager"
					fetchpriority="high"
					layout="fullWidth"
					width={600}
					height={600}
				/>
				<div class="absolute inset-0 bg-linear-to-b from-transparent via-transparent to-black/30"></div>
			</div>

			<!-- Content Container -->
			<div class="relative flex flex-1 flex-col px-10 py-16">
				<!-- Main Title -->
				<header class="mb-auto pt-8">
					<h1>
						{t('SITE_TITLE')}
					</h1>
				</header>

				<!-- Category Cards Grid -->
				<nav class="mt-auto" aria-label={t('NAVIGATION_PRINCIPALE')}>
					<ul class="mx-auto grid max-w-[90%] grid-cols-2 gap-7 md:grid-cols-3 lg:grid-cols-6">
						{
							categories.map((category) => (
								<li>
									<a href={category.href} aria-label={t(category.key)}>
										<article>
											{/* Card Image */}
											{/* <figure class="relative overflow-hidden"> */}
											<figure>
												<MyImage
													src={category.image}
													alt={t(category.key)}
													loading="lazy"
													class="mx-auto drop-shadow-2xl"
													width={200}
													height={350}
													layout="constrained"
												/>
												{/* Gradient Overlay */}
												{/* <div class="absolute inset-0 bg-linear-to-t from-black/50 via-black/5 to-transparent"></div> */}
												<figcaption class="pt-2">
													<h2 class="text-primary-foreground text-center">{t(category.key)}</h2>
												</figcaption>
											</figure>
										</article>
									</a>
								</li>
							))
						}
					</ul>
				</nav>
			</div>
		</section>

		<section class="section-default">
			<article class="grid grid-cols-2 gap-5">
				<div class="flex flex-col">
					<h2 class="text-primary pb-3">{t('OU_NOUS_TROUVER_TITRE')}</h2>
					<p class="distinguished pb-16">{t('MAISON_DU_PARC')}</p>
					<div class="grid grid-cols-2 gap-5">
						<div class="bg-primary/20 px-5 py-8">
							<ul class="space-y-5">
								<li class="border-b border-black/20 px-5 pb-4">
									<span class="font-bold">{t('HORAIRES')}</span> : Du lundi au samedi de 14h à 19h. Le dimanche de 17h à 19h.
								</li>

								<li class="px-5">
									<span class="font-bold">{t('ADRESSE')}</span> : Salle des voûtes, Maison de la Valée, 24 Place Saint Clément,
									65120 LUZ-SAINT-SAUVEUR
								</li>
							</ul>
						</div>
						<div class="bg-primary/20 px-5 py-8">
							<ul class="space-y-5">
								<li class="border-b border-black/20 px-5 pb-4">
									<span class="font-bold">{t('PARKING')}</span> : {t('PARKING_ADRESSE')}
								</li>

								<li class="px-5">
									<span class="font-bold">{t('ACCES_TRANSPORT_PUBLIC')}</span> : {t('ACCES_TRANSPORT_PUBLIC_DESC')}
								</li>
							</ul>
						</div>
					</div>
				</div>

				<iframe
					width="450"
					height="250"
					frameborder="0"
					style="border:0"
					referrerpolicy="no-referrer-when-downgrade"
					src="https://maps.app.goo.gl/9tKkT2gJVmbFuiLc9"
					allowfullscreen
				>
				</iframe>
			</article>
		</section>

		<section class="section-default bg-primary/20">
			<article>
				<h2 class="text-primary pb-3">{t('NOS_TARIFS')}</h2>
				<p class="distinguished pb-16">{t('NOS_TARIFS_INTRO')}</p>

				<div class="grid grid-cols-9 gap-5">
					<div class="bg-primary text-primary-foreground col-span-2 p-6">
						<h3 class="text-primary-foreground pb-10">{t('TARIFS_MEDIATHEQUE')}</h3>
						<p><span class="font-bold">{t('ADULTE')}</span> : 10€</p>
						<p class="distinguished mb-6 border-b border-white/20">{t('ANNEE')}</p>
						<p><span class="text-primary-foreground font-bold">{t('ENFANT')}</span> : 5€</p>
						<p class="distinguished mb-6 border-b border-white/20">{t('ANNEE')}</p>
						<p><span class="text-primary-foreground font-bold">{t('FAMILLE')}</span> : 5€</p>
						<p class="distinguished mb-6 border-b border-white/20">3 {t('SEMAINES')}</p>
					</div>
					<MyImage src={EspaceCultureImg} alt="" width={200} height={380} />
					<div class="bg-primary text-primary-foreground col-span-2 p-6">
						<h3 class="text-primary-foreground pb-10">{t('TARIFS_SPECTACLE')}</h3>
						<p><span class="font-bold">{t('NORMAL')}</span> : 10€</p>
						<p class="distinguished mb-6 border-b border-white/20">{t('DES_14ANS')}</p>
						<p><span class="text-primary-foreground font-bold">{t('REDUIT')}</span> : 5€</p>
						<p class="distinguished mb-6 border-b border-white/20">{t('REDUIT_DESC')}</p>
						<p><span class="text-primary-foreground font-bold">{t('ENFANT')}</span> : {t('OFFERT')}</p>
						<p class="distinguished mb-6 border-b border-white/20">{t('MOINS_3ANS')}</p>
					</div>
					<MyImage src={EspaceCultureImg} alt="" width={200} height={380} />
					<div class="bg-primary text-primary-foreground col-span-2 p-6">
						<h3 class="text-primary-foreground pb-10">{t('TARIFS_CINEMA')}</h3>
						<p class="mb-6 border-b border-white/20"><span class="font-bold">{t('ADULTE')}</span> : 7€</p>
						<p class="mb-6 border-b border-white/20"><span class="font-bold">{t('ETUDIANT')}</span> : 6€</p>
						<p class="mb-6 border-b border-white/20"><span class="font-bold">{t('ENFANT_MOINS_13')}</span> : 5€</p>
						<p class="mb-6 border-b border-white/20"><span class="font-bold">{t('ABONNE')}</span> : 5,80€</p>
					</div>
					<MyImage src={EspaceCultureImg} alt="" width={200} height={380} />
				</div>
			</article>
		</section>

		<section class="section-default">
			<article>
				<h2 class="text-primary pb-3">{t('EQUIPE_TITRE')}</h2>
				<p class="distinguished pb-16">{t('EQUIPE_INTRO')}</p>
				<p class="w-2/3 pb-16">
					{t('EQUIPE_DESC')}
				</p>

				<div class="flex flex-wrap items-center justify-center gap-x-5 gap-y-20 *:w-[20%]">
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Marque Cathy</h2>
							<p>{t('DIRECTRICE_ADMINISTRATIVE')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Lay Marie</h2>
							<p>{t('DIRECTRICE_ARTISTIQUE')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Boussac Chantal</h2>
							<p>{t('COMPTABLE')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Loo Santos Andréa</h2>
							<p>{t('RESPONSABLE_MEDIATHEQUE')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Bouillon Marie-Jade</h2>
							<p>{t('RESPONSABLE_CINEMA_EXPO')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Poulalion Léo-Polde</h2>
							<p>{t('TECHNICIEN_REGISSEUR')}</p>
						</figcaption>
					</figure>
					<figure>
						<MyImage src={EspaceCultureImg} alt="" width={200} height={380} layout="fullWidth" />
						<figcaption class="pt-2">
							<h2>Bouillon Mélinda</h2>
							<p>{t('AGENT_ENTRETIEN_ACCUEIL')}</p>
						</figcaption>
					</figure>
				</div>
			</article>
		</section>

		<section class="section-default bg-secondary/20">
			<article class="grid grid-cols-3">
				<div class="col-span-2">
					<h2 class="text-secondary pb-3">{t('ENGAGEMENTS_VALEURS_TITRE')}</h2>
					<p class="distinguished pb-16">{t('ENGAGEMENTS_VALEURS_INTRO')}</p>
					<p class="whitespace-pre-line">
						{t('ENGAGEMENTS_VALEURS_DESC')}
					</p>
				</div>

				<div class="col-span-1 flex items-center justify-center gap-3">
					<MyImage src={EspaceCultureImg} alt="" width={150} height={150} />
					<MyImage src={EspaceCultureImg} alt="" width={150} height={150} />
					<MyImage src={EspaceCultureImg} alt="" width={150} height={150} />
				</div>
			</article>
		</section>
		<section class="section-default">
			<article class="grid grid-cols-3 gap-5">
				<div class="col-span-1 grid grid-cols-3 grid-rows-3 gap-3 pt-48 place-items-center">
					<MyImage src={BeHappyImg} alt="" width={120} height={120} class="col-span-1"  />
					<MyImage src={HautesPyreneesImg} alt="" width={120} height={120} class="col-span-1"  />
					<MyImage src={OccitanieImg} alt="" width={120} height={120} class="col-span-1"  />
					<MyImage src={PrefetImg} alt="" width={120} height={120} class="col-span-1"  />
					<MyImage src={ParcNationalImg} alt="" width={240} height={120} class="col-span-2"  />
					<MyImage src={EuropeImg} alt="" width={700} height={120} class="col-span-3" />
				</div>
				<div class="col-span-2">
					<h2 class="text-primary pb-3">{t('PARTENAIRES_TITRE')}</h2>
					<p class="distinguished pb-16">{t('PARTENAIRES_INTRO')}</p>
					<p>
						{t('PARTENAIRES_DESC')}
					</p>
				</div>
			</article>
		</section>
	</main>
</Layout>
